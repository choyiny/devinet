{% block content %}
<style>
  .mouse {
    position: absolute;
    transform: translate(-50%, -50%);
    width: 800px;
    height: 800px;
    background-color: rgba(20,82,26, 0.5);
    border-radius: 400px;
    opacity: 50%;
  }

  .answer {
    transform: translate(-50%, -50%);
    position: absolute;
    width: 800px;
    height: 800px;
    background-color: rgba(20,82,26, 0.5);
    opacity: 50%;
    border-radius: 400px;
  }

  .focusArea {
    position: fixed;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
  }
  .success {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: 0%;
  }
</style>
{% load static %}
<div class="focusArea">
  <div class="mouse"></div>
  <div class="answer"></div>
  <span class="success"><img style="width:200px;pointer-events: none;" src="{% static "puzzle/devniet.png" %}"></span>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
  function loop() {
    requestAnimationFrame(loop);
  }
  $('.focusArea').mousemove(function(e) {
    var offset = 500
    var x=event.clientX;
    var y=event.clientY;
    width = $('.focusArea').width();
    height = $('.focusArea').height();
    $('.mouse').css({
       left:  e.pageX*x*2/width,
       top:   e.pageY*y*2/height
    });
    $('.answer').css({
       left:  width-e.pageX*x*2/width,
       top:   height-e.pageY*y*2/height
    });
    if ((x + offset > width/2 - 15) && (x + offset < width/2 + 15))
    {
      if ((y  + offset> height/2 - 15) && (y + offset < height/2 + 15))
      {
        $('.success').animate({opacity: 100});
      }
    }
  });

  $('.success').click(function() {
        $('.container').load('/puzzle/list/');
    });
  loop();
</script>
{% endblock content %}
