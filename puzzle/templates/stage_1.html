<style>

  .success {
    position: absolute;
    width: 50px;
    height: 50px;
    border-radius: 50px;
    opacity: 1;
    border: 4px solid #93DC5C;
    background-color: transparent;
    left: 50%;
    top: 49.6%;
    transform: translate(-50%, -50%);
  }

  .red {
    position: absolute;
    width: 50px;
    height: 50px;
    border-radius: 50px;
    opacity: 1;
    background-color: rgb(243,68,67);
    left: 46%;
    top: 49.6%;
    transform: translate(-50%, -50%);
  }

  .green {
    position: absolute;
    width: 50px;
    height: 50px;
    border-radius: 50px;
    opacity: 1;
    background-color: rgb(40,190,50);
    left: 54%;
    top: 49.6%;
    transform: translate(-50%, -50%);
  }

</style>
<span class="red"></span>
<span class="success"></span>
<span class="green"></span>
<script type="text/javascript">
  var completed = false;
  var minimized = false;
  window.addEventListener('blur', function(){
      minimized = true;
  }, false);

  window.addEventListener('focus', function(){
     if (minimized) {
       completed = true;
       $('.success').css('background-color', '#93DC5C');
     }
  }, false);

  $('.success').click(function() {
    if (completed) {
      $('.container').load('/puzzle/stage/stagecomplete/', {'pkid':{{pkid}}});
    }
  });
</script>
